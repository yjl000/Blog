### 一元操作符

**一元操作符**的定义就是只能操作一个值的操作符。

#### 递增和递减

递增和递减的用法和C语言是一样的，分为两个版本：前置型和后置型。简单来说，就是把操作符放在数值的前面和后面，但是放的位置不同，运算的先后顺序也不同。先看看其原理：

```javascript
var num = 10;
++num;
// 等同于 var num = 10;
// num = num + 1;
```

递减也是一样的道理。

执行前置递增和递减操作时，**变量的值都是在被求值前就被改变了**。看下面的代码：

```javascript
var num1 = 5;
var num2 = 5;
var num3 = --num1 + num2;
var num4 = num1 + num2;
console.log(num3); // 9
console.log(num4); // 9
```

在代码中可以看到前置递增（递减）运行结束之后才进行其他运算，那后置呢？我们再看代码：

```javascript
var num1 = 5;
var num2 = 5;
var num3 = num1-- + num2; 
var num4 = num1 + num2;
console.log(num3); // 10
console.log(num4); // 9
```

在这里可以看到，num3的结果中，num1使用了原始值，而num4的结果才用了num1减去1之后的值。有一点值得注意，这里并不是说，num1 + num2的加号运算符的优先级就比递增操作符的优先级高。而是递增（递减）的后置版本的运算规则就是在语句执行之后才会自加（自减）1。

这四个一元操作符对如何值都适用，也就是不仅是整数，还可以用于字符串、布尔值、浮点数值的对象。红宝书中解释的规则如下：

- 在应用于一个包含有效数字字符的字符串时，现将其转换为数字值，再执行加减1的操作。字符串变量变成数值变量。
- 在应用于一个不包含有效数字的字符串时，将变量的值设置为NaN。字符串变量变成数值变量。
- 在应用于布尔值false时，先将其转换成0再执行加减1的操作。布尔值变量转换成数值变量。
- 在应用于布尔值true时，先将其转换成1再执行加减1的操作。布尔值变量转换成数值变量。
- 在应用于浮点型时，执行加减1的操作。
- 在应用于对象时，先调用对象的valueOf()方法以取得一个可供操作的值，然后对该值应用上述规则。如果结果是NaN，则再调用toString()方法后再应用上述规则。对象变量变成数值变量。

对应上面的规则，我们用代码实现一下：

```javascript
var n1 = '1';
var s = 'a';
var flag = true;
var f = 0.5;
var obj = {
    valueOf: function () {
        return -1
    }
};

console.log(++n1); // 2
console.log(++s); // NaN
console.log(++flag); // 2
console.log(--f); // -0.5
console.log(--obj); //-2
```

#### 一元加/减操作符

一元加操作符的作用类似于Number一样，如果被操作数本身就是就是数值，那不会有影响。否则就会和Number()一样先对被操作数按规则进行转换再按数值操作，Number()用法可以看[Number、String、Object类型](https://github.com/yjl000/Blog/blob/master/js基础与进阶/基础/Number、String、Object类型.md)

一元减操作符的效果是一样的，但是得到最后结果是取反。就是原来是正的变成负的，负的就变成正的。