### 函数

函数在所有的语言中都是很重要很核心的东西。使用函数，可以将一些常用的功能封装起来，然后在项目中所有需要这个功能的地方直接调用就可以了，避免了重复编写同样的代码，极大地提高了开发效率。

js中函数的写法与大多数语言的写法是类似的，如下代码：

```javascript
function functionName(arg0, arg1, arg2, ...., argN){
    dosomething;
}
```

函数可以指定返回值，也可以没有返回值。返回值用**return**来返回，值得注意的是，在函数中（在平常的js中也是一样，因为所有的js代码都是在一个最大的function中）return之后，后面打代码都不会被执行，如下：

```javascript
function func() {
    console.log('hello'); // hello
    return;
    console.log('world'); // 这里不会被执行到
}
```

另外，函数有三个点要注意一下：

- 不能把函数命名为eval或者arguments;

- 不能把参数命名为eval或者arguments;

- 不能出现两个命名参数同名的情况。

  

这三个都比较好理解，前面两个是因为eval和argument都是关键字，argument是函数里面默认的参数集合。在你不确定传的参数个数的时候，不管你传多少个，都可以在arguments中获取到。至于最后一个也好理解，函数的参数是分顺序的，如果两个命名一样的话，那就不知道取的是第几个参数了。

#### 函数的参数

在js中，函数传参是比较灵活的，你要传多少参数，什么类型的参数都没有限制。甚至你可以在定义的时候没有定义参数，但是在调用的时候又传入多个参数。对比于其他语言，也算是各有利弊。比如，对于一些共用组件里的函数，如果没有定义好参数以及其类型，那其他人使用的时候就很难知道要传什么。但是对于一些参数不固定的函数，这种写法就很灵活，因为很多场景下，参数的个数是动态的。

js的函数参数之所以可以这么灵活，是因为参数在函数内部可以通过一个**类数组**来表示，这个类数组就是**arguments**，函数内部接收到的是arguments这个集合，并且不去管这个集合有多少元素，这些元素是什么类型。至于什么是类数组。emmm.....。就是长得像数组，但是类型又不是数组的一个对象。这个对象可以使用数组的所有方法。所以，有了这个对象，我们可以在定义函数的时候不用定义参数，在调用的时候可以传不确定的参数，在函数内部可以遍历arguments来使用传入的参数。如下代码：

```javascript
function func() {
  console.log(arguments); // Arguments(2) 0 => 'hello'  1 => 'world'
}
let test = 'world';
func('hello', test);
```

当然，有了这个arguments对象，并不是说我们定义所有的函数都不需要定义参数，像前面说的公共组件，这种需要多次，多人使用的，为了提高团队开发效率，应该定义参数，并且定义其参数类型，这样，别人使用时不用看源码，提高了团队的效率。并且，arguments和命名参数是可以一起使用的。比如下面的代码：

```javascript
function func(name1) {
  console.log(name1 + ' ' + arguments[1]); // hello world
}
let test = 'world';
func('hello', test);
```

在这个代码里，传入两个参数，第一个用命名参数定义，第二个用arguments[1]来调用，两个参数可以相互计算，一起使用。同时，name1的值跟arguments[0]是一样并且**同步的**，比如下面的代码：

```javascript
function func(name1) {
    name1 = 'Hi';
    console.log(arguments[0]); // Hi
  	
}
let test = 'world';
func('hello', test);
```

代码验证了，在函数内部，修改了命名参数的值，那arguments中对应的值也是会被改变的，这就是说它们的值是同步的。虽然值是同步的，但是，存储空间是不同步的、独立的。至于为什么要分开存储，红宝书里面没有提及，但是看arguments的作用，我个人觉得，是为了arguments的作用更加纯粹，不至于被命名参数耦合吧。